(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[395],{587:function(e,t,a){Promise.resolve().then(a.bind(a,2385))},2385:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var s=a(7437),r=a(4681),l=a(401),n=a(2023),i=a(9474),c=a(9763);let d=(0,c.Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),o=(0,c.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);function p(){let{challenges:e,state:t,mounted:a}=(0,r.g)();if(!a)return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-white/30 border-t-white"})});let c=e.filter(e=>"daily"===e.type),p=e.filter(e=>"weekly"===e.type),m=e=>{let a=t.completedChallenges.includes(e.id),r=Math.min(100,e.progress/e.target*100);return(0,s.jsxs)("div",{className:"glass rounded-2xl p-4 shadow-lg ".concat(a?"border-2 border-green-400":""),children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"font-bold text-gray-900 mb-1",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]}),a&&(0,s.jsx)("div",{className:"ml-2 w-8 h-8 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0",children:(0,s.jsx)(l.Z,{className:"w-5 h-5 text-white"})})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsxs)("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[(0,s.jsx)("span",{children:"Progress"}),(0,s.jsxs)("span",{children:[e.progress,"/",e.target]})]}),(0,s.jsx)("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full transition-all ".concat(a?"bg-green-500":"bg-gradient-to-r from-primary-500 to-red-500"),style:{width:"".concat(r,"%")}})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1 bg-orange-100 px-3 py-1 rounded-full",children:[(0,s.jsx)(n.Z,{className:"w-4 h-4 text-orange-600"}),(0,s.jsxs)("span",{className:"text-sm font-bold text-orange-700",children:["+",e.reward]})]}),a&&(0,s.jsx)("span",{className:"text-xs font-bold text-green-600",children:"CLAIMED"})]})]},e.id)};return(0,s.jsx)("div",{className:"min-h-screen p-4 safe-top",children:(0,s.jsxs)("div",{className:"max-w-md mx-auto space-y-4",children:[(0,s.jsxs)("div",{className:"glass rounded-3xl p-6 shadow-2xl",children:[(0,s.jsxs)("h1",{className:"text-3xl font-black text-gray-900 mb-2 flex items-center gap-2",children:[(0,s.jsx)(i.Z,{className:"w-8 h-8 text-primary-600"}),"Challenges"]}),(0,s.jsx)("p",{className:"text-gray-600",children:"Complete challenges to earn crumbs"})]}),(0,s.jsxs)("div",{className:"glass rounded-3xl p-6 shadow-xl",children:[(0,s.jsxs)("h2",{className:"text-xl font-black text-gray-900 mb-4 flex items-center gap-2",children:[(0,s.jsx)(d,{className:"w-5 h-5 text-blue-600"}),"Daily Challenges"]}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Resets every day at midnight"}),(0,s.jsx)("div",{className:"space-y-3",children:c.length>0?c.map(m):(0,s.jsx)("p",{className:"text-center text-gray-500 py-4",children:"No daily challenges available"})})]}),(0,s.jsxs)("div",{className:"glass rounded-3xl p-6 shadow-xl",children:[(0,s.jsxs)("h2",{className:"text-xl font-black text-gray-900 mb-4 flex items-center gap-2",children:[(0,s.jsx)(o,{className:"w-5 h-5 text-purple-600"}),"Weekly Challenges"]}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Resets every Monday"}),(0,s.jsx)("div",{className:"space-y-3",children:p.length>0?p.map(m):(0,s.jsx)("p",{className:"text-center text-gray-500 py-4",children:"No weekly challenges available"})})]})]})})}},4681:function(e,t,a){"use strict";a.d(t,{g:function(){return c},w:function(){return n}});var s=a(2265);let r="feastfun_game_state",l={bestScore:0,crumbs:0,ownedCosmetics:["default_skin","default_trail"],selectedSkin:"default_skin",selectedTrail:"default_trail",selectedEmote:"",completedChallenges:[],dailyStreak:0,lastPlayedDate:"",soundEnabled:!0,hapticsEnabled:!0,totalRuns:0,totalScore:0},n=[{id:"default_skin",name:"Classic",type:"skin",cost:0,color:"#3b82f6",description:"The OG"},{id:"fire_skin",name:"Firecracker",type:"skin",cost:500,color:"#ef4444",description:"Blazing hot"},{id:"ice_skin",name:"Frosty",type:"skin",cost:500,color:"#06b6d4",description:"Cool as ice"},{id:"gold_skin",name:"Golden",type:"skin",cost:1e3,color:"#fbbf24",description:"For winners"},{id:"neon_skin",name:"Neon",type:"skin",cost:1500,color:"#a855f7",description:"Glow up"},{id:"default_trail",name:"Basic Trail",type:"trail",cost:0,description:"Standard trail"},{id:"star_trail",name:"Starlight",type:"trail",cost:300,description:"Leave stars behind"},{id:"rainbow_trail",name:"Rainbow",type:"trail",cost:800,description:"Colorful path"},{id:"wave_emote",name:"Wave",type:"emote",cost:200,description:"\uD83D\uDC4B"},{id:"fire_emote",name:"On Fire",type:"emote",cost:400,description:"\uD83D\uDD25"}],i=[{id:"score_1000",name:"Score 1000",description:"Score 1000+ points in a run",type:"daily",target:1e3,reward:100},{id:"score_2000",name:"Score 2000",description:"Score 2000+ points in a run",type:"daily",target:2e3,reward:200},{id:"collect_20",name:"Bite Collector",description:"Collect 20 Good Bites in one run",type:"daily",target:20,reward:150},{id:"combo_5",name:"Combo Master",description:"Reach a 5x combo multiplier",type:"daily",target:5,reward:100},{id:"golden_3",name:"Golden Hunter",description:"Collect 3 Golden Bites in one run",type:"daily",target:3,reward:200},{id:"perfect_run",name:"Perfect Run",description:"Complete a run without hitting hazards",type:"daily",target:1,reward:300},{id:"dash_10",name:"Dash Master",description:"Use dash 10 times in one run",type:"daily",target:10,reward:100},{id:"play_3",name:"Daily Grind",description:"Complete 3 runs today",type:"daily",target:3,reward:150},{id:"survive_45",name:"Survivor",description:"Survive for 45+ seconds",type:"daily",target:45,reward:100},{id:"speed_demon",name:"Speed Demon",description:"Collect 30 bites in 30 seconds",type:"daily",target:30,reward:250},{id:"week_score_10k",name:"Weekly Warrior",description:"Score 10,000+ total points this week",type:"weekly",target:1e4,reward:500},{id:"week_runs_15",name:"Dedication",description:"Complete 15 runs this week",type:"weekly",target:15,reward:400},{id:"week_streak_5",name:"Streak Master",description:"Maintain a 5-day streak",type:"weekly",target:5,reward:600},{id:"week_golden_15",name:"Golden Week",description:"Collect 15 Golden Bites this week",type:"weekly",target:15,reward:700},{id:"week_perfect_3",name:"Perfectionist",description:"Complete 3 perfect runs this week",type:"weekly",target:3,reward:800}];function c(){let[e,t]=(0,s.useState)(l),[a,c]=(0,s.useState)([]),[d,o]=(0,s.useState)(!1);(0,s.useEffect)(()=>{{let e=localStorage.getItem(r);e&&t(JSON.parse(e)),o(!0),p()}},[]),(0,s.useEffect)(()=>{d&&localStorage.setItem(r,JSON.stringify(e))},[e,d]);let p=()=>{let e=new Date().toISOString().split("T")[0],t=new Date().getDay(),a=new Date;a.setDate(a.getDate()+(0===t?-6:1-t));let s=a.toISOString().split("T")[0],r=i.filter(e=>"daily"===e.type),l=i.filter(e=>"weekly"===e.type),n=parseInt(e.replace(/-/g,""))%r.length;c([...[r[n%r.length],r[(n+1)%r.length],r[(n+2)%r.length]].map(t=>({...t,id:"".concat(t.id,"_").concat(e),type:"daily",progress:0,completed:!1})),...l.map(e=>({...e,id:"".concat(e.id,"_").concat(s),type:"weekly",progress:0,completed:!1}))])};return{state:e,challenges:a,cosmetics:n,updateScore:a=>{let s=Math.floor(a/200),r=new Date().toISOString().split("T")[0],l=e.dailyStreak;if(e.lastPlayedDate!==r){let t=new Date;t.setDate(t.getDate()-1);let a=t.toISOString().split("T")[0];l=e.lastPlayedDate===a?e.dailyStreak+1:1}return console.log("[Analytics] run_ended",{score:a,crumbsEarned:s,streak:l}),t(e=>({...e,bestScore:Math.max(e.bestScore,a),crumbs:e.crumbs+s,dailyStreak:l,lastPlayedDate:r,totalRuns:e.totalRuns+1,totalScore:e.totalScore+a})),{crumbsEarned:s,newStreak:l}},purchaseCosmetic:a=>{let s=n.find(e=>e.id===a);return!(!s||e.crumbs<s.cost||e.ownedCosmetics.includes(a))&&(console.log("[Analytics] cosmetic_purchased",{cosmeticId:a,cost:s.cost}),t(e=>({...e,crumbs:e.crumbs-s.cost,ownedCosmetics:[...e.ownedCosmetics,a]})),!0)},selectCosmetic:(a,s)=>{e.ownedCosmetics.includes(a)&&("skin"===s?t(e=>({...e,selectedSkin:a})):"trail"===s?t(e=>({...e,selectedTrail:a})):"emote"===s&&t(e=>({...e,selectedEmote:a})))},completeChallenge:s=>{let r=a.find(e=>e.id===s);return!r||e.completedChallenges.includes(s)?0:(console.log("[Analytics] challenge_completed",{challengeId:s,reward:r.reward}),t(e=>({...e,crumbs:e.crumbs+r.reward,completedChallenges:[...e.completedChallenges,s]})),r.reward)},updateChallengeProgress:(t,a)=>{c(s=>s.map(s=>s.id!==t||e.completedChallenges.includes(t)?s:{...s,progress:Math.max(s.progress,a),completed:a>=s.target}))},toggleSound:()=>{t(e=>({...e,soundEnabled:!e.soundEnabled}))},toggleHaptics:()=>{t(e=>({...e,hapticsEnabled:!e.hapticsEnabled}))},resetData:()=>{console.log("[Analytics] data_reset"),t(l),c([]),p()},triggerHaptic:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light";e.hapticsEnabled&&"vibrate"in navigator&&navigator.vibrate({light:10,medium:20,heavy:50}[t])},mounted:d}}},9763:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var s=a(2265),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),n=(e,t)=>{let a=(0,s.forwardRef)((a,n)=>{let{color:i="currentColor",size:c=24,strokeWidth:d=2,absoluteStrokeWidth:o,className:p="",children:m,...h}=a;return(0,s.createElement)("svg",{ref:n,...r,width:c,height:c,stroke:i,strokeWidth:o?24*Number(d)/Number(c):d,className:["lucide","lucide-".concat(l(e)),p].join(" "),...h},[...t.map(e=>{let[t,a]=e;return(0,s.createElement)(t,a)}),...Array.isArray(m)?m:[m]])});return a.displayName="".concat(e),a}},401:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9763).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},2023:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9763).Z)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]])},9474:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9763).Z)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]])}},function(e){e.O(0,[971,117,744],function(){return e(e.s=587)}),_N_E=e.O()}]);